# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# PostgreSQL Connection String
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://postgres:123@localhost:5432/quan_ly_nong_trai"

# Individual database connection variables (for backup/restore)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=quan_ly_nong_trai
DB_USER=postgres
DB_PASSWORD=123

# ==============================================
# AUTO BACKUP CONFIGURATION
# ==============================================

# Enable/disable automatic backup
AUTO_BACKUP_ENABLED=true

# Cron schedule for automatic backup
# Examples:
#   '0 2 * * *'     = Every day at 2:00 AM
#   '0 */6 * * *'   = Every 6 hours
#   '0 0 * * 0'     = Every Sunday at midnight
#   '0 0 1 * *'     = First day of every month
#   '*/30 * * * *'  = Every 30 minutes
AUTO_BACKUP_SCHEDULE=0 2 * * *

# Maximum number of auto backup files to keep
AUTO_BACKUP_MAX_FILES=30

# Maximum age of auto backup files (in days)
AUTO_BACKUP_MAX_DAYS=30

# PostgreSQL bin path (optional, auto-detect if not set)
# PG_BIN_PATH=C:\Program Files\PostgreSQL\18\bin

# ==============================================
# SERVER CONFIGURATION
# ==============================================

# Port for the backend server (phải khớp với callback URLs)
PORT=5000

# Environment: development | production | test
NODE_ENV=development

# ==============================================
# JWT AUTHENTICATION
# ==============================================

# Secret key for JWT token signing
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT token expiration time
JWT_EXPIRES_IN=7d

# ==============================================
# CORS & FRONTEND CONFIGURATION
# ==============================================

# Frontend URL for CORS and OAuth redirects
# Cho phép nhiều nguồn (phân cách bằng dấu phẩy)
CORS_ORIGIN=http://vuonnhaminhfarm.com,http://163.223.8.88,http://localhost:3000,http://localhost:5173
FRONTEND_URL=http://vuonnhaminhfarm.com

# ==============================================
# GOOGLE OAUTH CONFIGURATION
# ==============================================

# Lấy từ: https://console.cloud.google.com/
# Bước 1: Tạo project mới
# Bước 2: APIs & Services > Credentials > Create OAuth 2.0 Client ID
# Bước 3: Thêm Authorized redirect URI: http://localhost:5000/api/auth/google/callback
#https://myaccount.google.com/apppasswords
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:5000/api/auth/google/callback

# ==============================================
# FACEBOOK OAUTH CONFIGURATION
# ==============================================

# Lấy từ: https://developers.facebook.com/
# Bước 1: My Apps > Create App
# Bước 2: Add Facebook Login product
# Bước 3: Settings > Valid OAuth Redirect URIs: http://localhost:5000/api/auth/facebook/callback

FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
FACEBOOK_CALLBACK_URL=http://localhost:5000/api/auth/facebook/callback

# ==============================================
# CLOUD STORAGE (Optional)
# ==============================================

# CLOUDINARY_CLOUD_NAME=your_cloud_name
# CLOUDINARY_API_KEY=your_api_key
# CLOUDINARY_API_SECRET=your_api_secret

# ==============================================
# EMAIL CONFIGURATION (Optional)
# ==============================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=lmtuan21082003@gmail.com
SMTP_PASS=hcpr ylnu afqo eegx

# ==============================================
# HƯỚNG DẪN SỬ DỤNG
# ==============================================

# 1. Copy nội dung file này vào file .env của bạn
# 2. Thay thế các giá trị "your-xxx" bằng credentials thật
# 3. Đảm bảo PORT=5000 khớp với callback URLs
# 4. Đọc OAUTH_SETUP.md để biết cách lấy Google/Facebook credentials
# 5. Chạy migration: psql -d quan_ly_nong_trai -f document/oauth_migration.sql
